<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="me.ckhd.opengame.app.dao.BaseStationDao">
	<!-- 4GLTE -->
	<select id="find4GLTE" resultType="BaseStation">
		select province,city,district
		from v_cellinfo_v2 where mnc=#{mnc} and lac=#{lac} and ci=#{ci} AND validity > 0.25
		union
		select province,city,district from v_cellinfo_v2 where (mnc=0 or mnc=1
		or mnc=11) and lac=#{lac} and ci=#{ci} AND validity > 0.25
		union
		select
		province,city,district from v_cellinfo_v2 where mnc=#{mnc} and ci=#{ci} AND validity > 0.25
		union
		select province,city,district from v_cellinfo_v2 where mnc=#{mnc}
		and lac=#{lac} and ci>=#{ciMin} and ci &lt; #{ciMax} AND validity > 0.25
		limit 0,1
	</select>

	<!-- 3GUMTS -->
	<select id="find3GUMTS" resultType="BaseStation">
		SELECT province,city,district
		FROM v_cellinfo_v2
		WHERE mnc=#{mnc} AND lac=#{lac} AND ci=#{ci} AND validity > 0.25
		union
		SELECT province,city,district FROM v_cellinfo_v2
		WHERE (mnc=0 or mnc=1)
		AND lac=#{lac} AND ci=#{ci} AND validity > 0.25
		union
		SELECT province,city,district FROM
		v_cellinfo_v2
		WHERE mnc=#{mnc} AND lac=#{lac} AND ci=#{ciMod65536} AND validity > 0.25
		union
		SELECT province,city,district FROM v_cellinfo_v2
		WHERE mnc=#{mnc} and ci=#{ci} AND validity > 0.25 limit 0,1
	</select>

	<!-- 2GGSMOrCDMA -->
	<select id="find2GGSMOrCDMA" resultType="BaseStation">
		SELECT
		province,city,district FROM v_cellinfo_v2
		WHERE mnc=#{mnc} AND lac=#{lac}
		AND ci=#{ci} AND validity > 0.25
	</select>

</mapper>